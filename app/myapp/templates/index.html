<!-- index.html -->

<!DOCTYPE html>
    <html lang ="en">
        <head>
            <meta charset="UTF-8">
            <title>Google Maps on WebSite</title>
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin="" />
            <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>
            <style>
                body  {
            background-color:LightBlue
                   }
              #map {
                height: 400px;
              }
            </style>
            <title>Document</title>
        </head>
        <body>
            <h1 style="text-align: center">Port Hole Registry</h1>
                <div id="map"></div>
                <script>
                  navigator.geolocation.getCurrentPosition((position) => {
                    let {
                      latitude,
                      longitude
                    } = position.coords;
                    var map = L.map('map').setView([latitude, longitude], 19);
        
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                      maxZoom: 19,
                      minZoom: 1,
                      attribution: 'Â© OpenStreetMap'
                    }).addTo(map);
                    L.marker([latitude, longitude]).addTo(map).bindPopup("Your Location");
                    L.marker([37.784278, -122.404575]).addTo(map);
                    L.marker([37.765015, -122.486557]).addTo(map);
                    L.marker([37.779381, -122.418434]).addTo(map);
                    L.marker([37.730202, -122.456978]).addTo(map);
                    L.marker([37.792263, -122.480797]).addTo(map);
                  });
                </script>
    <h1>Reports </h1>
    <table>
        <tr>
            <th>Address</th>
            <th>Date</th>
            <th>Coordinates</th>
            <th>Image</th>
        </tr>
        {% for report in report_data %}
        <tr>
            <td>{{ report.Address }}</td>
            <td>{{ report.Date }}</td>
            <td>{{ report.Coordinates }}</td>
            <td>{{ report.Image }}</td>
        </tr>
        {% endfor %}
    </table>

    <h1>Units</h1>
    <table>
        <tr>
            <th>Address Range Low</th>
            <th>Address Range High</th>
            <th>Severity Score</th>
            <th>Images</th>
        </tr>
        {% for unit in unit_data %}
        <tr>
            <td>{{ unit.Address_range_low }}</td>
            <td>{{ unit.Address_range_high }}</td>
            <td>{{ unit.severity }}</td>
            <td>{{ unit.images }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>

